
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  /* Ensure body directly uses the theme background */
  @apply bg-background text-foreground; 
  min-height: 100vh;
  overflow-x: hidden;
}

@layer base {
  :root {
    /* Cosmic Grapevines Theme */
    --background-hsl: 270 50% 10%; /* Deep Purple */
    --foreground-hsl: 210 20% 98%; /* Light grey/white (unchanged) */
    
    --card-hsl: 270 50% 15%; /* Slightly lighter deep purple */
    --card-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --popover-hsl: 270 50% 12%; /* Darker purple for popovers */
    --popover-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --primary-hsl: 180 70% 45%; /* Interstellar Teal */
    --primary-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --secondary-hsl: 240 40% 20%; /* Muted Cosmic Blue */
    --secondary-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --muted-hsl: 270 30% 25%; /* Muted Purple */
    --muted-foreground-hsl: 210 15% 65%; /* Slightly darker muted text */
    
    --accent-hsl: 180 70% 55%; /* Lighter Interstellar Teal */
    --accent-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --destructive-hsl: 0 72.2% 50.6%; /* Red for destructive actions (unchanged) */
    --destructive-foreground-hsl: 210 20% 98%; /* (unchanged) */
    
    --border-hsl: 270 40% 22%; /* Purple-ish border */
    --input-hsl: 270 35% 35%; /* Input background - Purple-ish, increased lightness for better visibility */
    --ring-hsl: 180 70% 55%; /* Focus ring color - Lighter Teal (same as accent) */
    
    --radius: 0.5rem;

    /* CSS variable names without "-hsl" suffix for direct use in Tailwind config */
    --background: hsl(var(--background-hsl));
    --foreground: hsl(var(--foreground-hsl));
    --card: hsl(var(--card-hsl));
    --card-foreground: hsl(var(--card-foreground-hsl));
    --popover: hsl(var(--popover-hsl));
    --popover-foreground: hsl(var(--popover-foreground-hsl));
    --primary: hsl(var(--primary-hsl));
    --primary-foreground: hsl(var(--primary-foreground-hsl));
    --secondary: hsl(var(--secondary-hsl));
    --secondary-foreground: hsl(var(--secondary-foreground-hsl));
    --muted: hsl(var(--muted-hsl));
    --muted-foreground: hsl(var(--muted-foreground-hsl));
    --accent: hsl(var(--accent-hsl));
    --accent-foreground: hsl(var(--accent-foreground-hsl));
    --destructive: hsl(var(--destructive-hsl));
    --destructive-foreground: hsl(var(--destructive-foreground-hsl));
    --border: hsl(var(--border-hsl));
    --input: hsl(var(--input-hsl));
    --ring: hsl(var(--ring-hsl));

    /* Specific for control panel, can use card variables too if suitable */
    --control-panel-background-hsl: 270 50% 8%; /* Darker Deep Purple */
    --control-panel-foreground-hsl: 210 20% 90%;
    --control-panel-border-hsl: 270 40% 18%;

    --control-panel-background: hsl(var(--control-panel-background-hsl));
    --control-panel-foreground: hsl(var(--control-panel-foreground-hsl));
    --control-panel-border: hsl(var(--control-panel-border-hsl));


    /* Sidebar variables (mapped from control panel or theme) */
    --sidebar-background: hsl(var(--control-panel-background-hsl)); 
    --sidebar-foreground: hsl(var(--control-panel-foreground-hsl));
    --sidebar-border: hsl(var(--control-panel-border-hsl));
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-ring: var(--ring);

    /* Chart colors - updated to fit cosmic theme */
    --chart-1-hsl: 270 70% 60%; /* Vibrant Purple */
    --chart-2-hsl: 180 65% 55%; /* Teal */
    --chart-3-hsl: 300 75% 65%; /* Magenta/Pink */
    --chart-4-hsl: 210 70% 50%; /* Bright Blue */
    --chart-5-hsl: 330 80% 70%; /* Bright Rose */

    --chart-1: hsl(var(--chart-1-hsl));
    --chart-2: hsl(var(--chart-2-hsl));
    --chart-3: hsl(var(--chart-3-hsl));
    --chart-4: hsl(var(--chart-4-hsl));
    --chart-5: hsl(var(--chart-5-hsl));
  }

  .dark {
    /* Ensure dark theme applies these variables */
    --background-hsl: 270 50% 10%; 
    --foreground-hsl: 210 20% 98%; 
    --card-hsl: 270 50% 15%; 
    --card-foreground-hsl: 210 20% 98%; 
    --popover-hsl: 270 50% 12%; 
    --popover-foreground-hsl: 210 20% 98%; 
    --primary-hsl: 180 70% 45%; 
    --primary-foreground-hsl: 210 20% 98%; 
    --secondary-hsl: 240 40% 20%; 
    --secondary-foreground-hsl: 210 20% 98%; 
    --muted-hsl: 270 30% 25%; 
    --muted-foreground-hsl: 210 15% 65%; 
    --accent-hsl: 180 70% 55%; 
    --accent-foreground-hsl: 210 20% 98%; 
    --destructive-hsl: 0 72.2% 50.6%; 
    --destructive-foreground-hsl: 210 20% 98%; 
    --border-hsl: 270 40% 22%; 
    --input-hsl: 270 35% 35%; 
    --ring-hsl: 180 70% 55%;

    --control-panel-background-hsl: 270 50% 8%; 
    --control-panel-foreground-hsl: 210 20% 90%;
    --control-panel-border-hsl: 270 40% 18%;
    
    /* Ensure non-HSL suffixed variables are also updated for dark if needed */
    --background: hsl(var(--background-hsl));
    --foreground: hsl(var(--foreground-hsl));
    --card: hsl(var(--card-hsl));
    --card-foreground: hsl(var(--card-foreground-hsl));
    --popover: hsl(var(--popover-hsl));
    --popover-foreground: hsl(var(--popover-foreground-hsl));
    --primary: hsl(var(--primary-hsl));
    --primary-foreground: hsl(var(--primary-foreground-hsl));
    --secondary: hsl(var(--secondary-hsl));
    --secondary-foreground: hsl(var(--secondary-foreground-hsl));
    --muted: hsl(var(--muted-hsl));
    --muted-foreground: hsl(var(--muted-foreground-hsl));
    --accent: hsl(var(--accent-hsl));
    --accent-foreground: hsl(var(--accent-foreground-hsl));
    --destructive: hsl(var(--destructive-hsl));
    --destructive-foreground: hsl(var(--destructive-foreground-hsl));
    --border: hsl(var(--border-hsl));
    --input: hsl(var(--input-hsl));
    --ring: hsl(var(--ring-hsl));

    --control-panel-background: hsl(var(--control-panel-background-hsl));
    --control-panel-foreground: hsl(var(--control-panel-foreground-hsl));
    --control-panel-border: hsl(var(--control-panel-border-hsl));
    
    --sidebar-background: hsl(var(--control-panel-background-hsl));
    --sidebar-foreground: hsl(var(--control-panel-foreground-hsl));
    --sidebar-border: hsl(var(--control-panel-border-hsl));
    --sidebar-accent: var(--accent);
    --sidebar-accent-foreground: var(--accent-foreground);
    --sidebar-primary: var(--primary);
    --sidebar-primary-foreground: var(--primary-foreground);
    --sidebar-ring: var(--ring);

    --chart-1-hsl: 270 70% 60%;
    --chart-2-hsl: 180 65% 55%;
    --chart-3-hsl: 300 75% 65%;
    --chart-4-hsl: 210 70% 50%;
    --chart-5-hsl: 330 80% 70%;

    --chart-1: hsl(var(--chart-1-hsl));
    --chart-2: hsl(var(--chart-2-hsl));
    --chart-3: hsl(var(--chart-3-hsl));
    --chart-4: hsl(var(--chart-4-hsl));
    --chart-5: hsl(var(--chart-5-hsl));

    /* Explicit Sidebar Styling Overrides */
    /* Apply to the main sidebar container used on desktop */
    div[data-sidebar="sidebar"]:not([data-mobile="true"]) {
      background-color: hsl(var(--sidebar-background)) !important;
      color: hsl(var(--sidebar-foreground)) !important;
    }

    /* Apply to the SheetContent used for mobile sidebar */
    div[data-radix-dialog-content][data-sidebar="sidebar"][data-mobile="true"] {
      background-color: hsl(var(--sidebar-background)) !important;
      color: hsl(var(--sidebar-foreground)) !important;
    }
    /* Fallback if SheetContent doesn't directly use data-radix-dialog-content */
     div[data-sidebar="sidebar"][data-mobile="true"] {
      background-color: hsl(var(--sidebar-background)) !important;
      color: hsl(var(--sidebar-foreground)) !important;
    }

    /* Ensure the direct child of ScrollArea in ControlPanelView is also themed */
    /* This might be redundant if the sidebar itself is fixed, but acts as a safeguard */
    .control-panel-content-wrapper { /* We might need to add this class in ControlPanelView */
        background-color: hsl(var(--control-panel-background)) !important;
    }
  }
}

@layer base {
  * {
    @apply border-border;
  }
  /* body is already styled above to use bg-background text-foreground */
}
